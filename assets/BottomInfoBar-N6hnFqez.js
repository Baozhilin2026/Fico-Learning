const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BBjULrD7.js","assets/index-DBqE8Eah.css"])))=>i.map(i=>d[i]);
import{J as g,n as u,d as f,o as _,_ as y,g as p,c as m,a as l,t as S}from"./index-BBjULrD7.js";import{_ as b}from"./_plugin-vue_export-helper-DOvgmkbR.js";const v="fico_progress",d={vocabulary:{learnedCount:0,dictationCorrect:0,dictationTotal:0,recognitionCorrect:0,recognitionTotal:0},todayStudyTime:0,lastStudyDate:""},B=g("progress",()=>{const e=u({...d}),t=u([]);let s=!1;function c(){try{const o=localStorage.getItem(v);if(o){const r=JSON.parse(o);e.value={...d,...r.progress};const i=new Date().toDateString();e.value.lastStudyDate!==i&&(e.value.todayStudyTime=0),t.value=r.recentRecords||[]}s=!0}catch(o){console.error("Failed to load progress:",o)}}function n(){try{localStorage.setItem(v,JSON.stringify({progress:e.value,recentRecords:t.value}))}catch(o){console.error("Failed to save progress:",o)}}return c(),{progress:e,recentRecords:t,markVocabularyAsLearned:o=>{a(),e.value.vocabulary.learnedCount++,n()},updateDictationScore:(o,r)=>{a(),e.value.vocabulary.dictationCorrect+=o,e.value.vocabulary.dictationTotal+=r,n()},updateRecognitionScore:(o,r)=>{a(),e.value.vocabulary.recognitionCorrect+=o,e.value.vocabulary.recognitionTotal+=r,n()},addStudyTime:o=>{a(),e.value.todayStudyTime+=o,e.value.lastStudyDate=new Date().toDateString(),n()},getAccuracy:()=>{a();const o=e.value.vocabulary,r=o.dictationCorrect+o.recognitionCorrect,i=o.dictationTotal+o.recognitionTotal;return i===0?0:Math.round(r/i*100)},getProgress:()=>(a(),{...e.value}),addRecord:o=>{a();const r={...o,id:Date.now().toString(),timestamp:Date.now()};t.value.unshift(r),t.value.length>20&&(t.value=t.value.slice(0,20)),n()},getRecentRecords:()=>(a(),[...t.value]),clearRecords:()=>{a(),t.value=[],n()},resetProgress:()=>{a(),e.value={...d},n()}};function a(){s||c()}}),D={class:"bottom-info-bar"},R={class:"info-bar-container"},T={class:"info-item"},h=f({__name:"BottomInfoBar",setup(e){const t=u("1.0.0");return _(async()=>{try{const{dataLoader:s}=await y(async()=>{const{dataLoader:n}=await import("./index-BBjULrD7.js").then(a=>a.ad);return{dataLoader:n}},__vite__mapDeps([0,1])),c=await s.loadConfig();t.value=c.version}catch(s){console.error("Failed to load config for info bar:",s)}}),(s,c)=>(p(),m("footer",D,[l("div",R,[l("div",T,[l("span",null,"v"+S(t.value),1)])])]))}}),P=b(h,[["__scopeId","data-v-1b4f55ea"]]);export{P as B,B as u};
