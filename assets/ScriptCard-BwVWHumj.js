import{d as x,g as B,c as w,a as s,e as n,w as i,m as r,t as a,b as t,O as T,y as $,M as j,N,a6 as z,K as E,r as d,E as h}from"./index-BBjULrD7.js";import{u as P}from"./useTTS-CNcRb1bV.js";import{u as V,_ as I}from"./_plugin-vue_export-helper-DOvgmkbR.js";import{u as M}from"./BottomInfoBar-N6hnFqez.js";const D={class:"script-card"},K={class:"card-header"},O={class:"meta-tags"},R={class:"card-actions"},q={class:"card-body"},A={class:"scene-info"},F={class:"scene-number"},G={class:"scene-name"},H={class:"english-sentence"},J={class:"chinese-translation"},L={class:"usage-title"},Q={class:"usage-content"},U={class:"card-footer"},W=x({__name:"ScriptCard",props:{object:{},phase:{},scenario:{},isBookmarked:{type:Boolean,default:!1}},emits:["bookmark"],setup(e){const g=M(),o=e,{t:_}=V(),{speak:y,isPlaying:u,stop:v}=P(),p=E(()=>{const c=o.phase.match(/\(([^)]+)\)/);return c?c[1]:o.phase});async function k(){var c,l;u.value?v():(await y(o.scenario.英文话术),g.addRecord({type:"communication",title:`${o.object} - ${p.value}: ${(c=o.scenario.场景名称)==null?void 0:c.substring(0,10)}${((l=o.scenario.场景名称)==null?void 0:l.length)>10?"...":""}`}))}async function b(){try{await navigator.clipboard.writeText(o.scenario.英文话术),h.success("已复制到剪贴板")}catch{h.error("复制失败")}}return(c,l)=>{const f=d("el-tag"),m=d("el-button"),C=d("el-collapse-item"),S=d("el-collapse");return B(),w("div",D,[s("div",K,[s("div",O,[n(f,{type:"info",size:"small"},{default:i(()=>[r(a(e.object),1)]),_:1}),n(f,{type:"success",size:"small"},{default:i(()=>[r(a(p.value),1)]),_:1})]),s("div",R,[n(m,{icon:e.isBookmarked?t(T):t($),type:e.isBookmarked?"warning":"default",circle:"",size:"small",onClick:l[0]||(l[0]=X=>c.$emit("bookmark",{object:e.object,phase:e.phase,scenario:e.scenario}))},null,8,["icon","type"])])]),s("div",q,[s("div",A,[s("span",F,"场景 "+a(e.scenario.场景序号),1),s("span",G,a(e.scenario.场景名称),1)]),s("div",H,a(e.scenario.英文话术),1),s("div",J,a(e.scenario.中文话术),1),n(S,{class:"usage-collapse"},{default:i(()=>[n(C,{name:"usage"},{title:i(()=>[s("span",L,a(t(_)("communication.usageScene")),1)]),default:i(()=>[s("div",Q,a(e.scenario.使用场景),1)]),_:1})]),_:1})]),s("div",U,[n(m,{icon:t(u)?t(j):t(N),type:"primary",onClick:k},{default:i(()=>[r(a(t(u)?"暂停":"播放"),1)]),_:1},8,["icon"]),n(m,{icon:t(z),onClick:b},{default:i(()=>[r(a(t(_)("communication.copyText")),1)]),_:1},8,["icon"])])])}}}),ae=I(W,[["__scopeId","data-v-082799f1"]]);export{ae as S};
