import{u as f}from"./BottomInfoBar-N6hnFqez.js";import{o as d,A as S}from"./index-BBjULrD7.js";let o=null,n=0,t=0,s=Date.now();function p(){const r=f();function m(e){return`${Math.floor(e/60)}分钟`}function l(){return r.getProgress().todayStudyTime}function i(){n++,n===1&&!o&&(s=Date.now(),o=window.setInterval(()=>{const e=Date.now(),a=Math.floor((e-s)/1e3);if(t+=a,s=e,t>=60){const c=Math.floor(t/60);r.addStudyTime(c),t=t%60}},1e3))}function u(){if(n--,n<=0&&o){if(clearInterval(o),o=null,t>0){const e=Math.ceil(t/60);e>0&&r.addStudyTime(e),t=0}n=0}}return d(()=>{i()}),S(()=>{u()}),{getCurrentStudyTime:l,formatTime:m,startTimer:i,stopTimer:u}}export{p as u};
