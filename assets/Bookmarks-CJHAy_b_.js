import{d as j,c as r,e as l,a as s,t as d,b as u,w as k,j as p,a5 as E,k as v,F as h,C as B,n as F,K as g,r as _,g as t,m as V,E as S,Z as I}from"./index-EpalMCu9.js";import{u as A}from"./bookmarks-BxTgSmNn.js";import{u as M,_ as Q}from"./_plugin-vue_export-helper-C68I2N45.js";import{u as $}from"./useStudyTimer-DggI-VCl.js";import{T as D}from"./useTTS-CvA7TtTJ.js";import{B as K}from"./BottomInfoBar-BDhUuWO2.js";import{V as L}from"./VocabularyCard-mepE6PL5.js";import{S as R}from"./ScriptCard-EopfEI9u.js";import{Q as U}from"./QuestionCard-DxL0JEqx.js";import"./logo-CHlci69U.js";const Z={class:"bookmarks-page"},z={class:"page-content"},G={class:"main-content"},H={class:"content-header"},J={class:"header-actions"},O={key:0,class:"empty-state"},P={key:1,class:"bookmarks-list"},W={key:0,class:"bookmark-section"},X={class:"bookmark-grid"},Y={key:1,class:"bookmark-section"},ee={class:"bookmark-list-communication"},oe={key:2,class:"bookmark-section"},te={class:"bookmark-list-interview"},ae=j({__name:"Bookmarks",setup(se){const{t:i}=M(),y=A();$();const m=F(""),f=g(()=>y.getAllBookmarks()),C=g(()=>f.value.length>0),c=g(()=>{const a=m.value?f.value.filter(e=>e.type===m.value):f.value;return{vocabulary:a.filter(e=>e.type==="vocabulary"),communication:a.filter(e=>e.type==="communication"),interview:a.filter(e=>e.type==="interview")}});function x(){}function b(a){let e,n;if(a.序号!==void 0)e="vocabulary",n=a.序号.toString();else if(a.scenario)e="communication",n=a.scenario.场景序号.toString();else if(a.question)e="interview",n=a.question.questionNo;else return;y.removeBookmark(e,n),S.success(i("bookmarks.removeBookmark"))}async function N(){try{await I.confirm("确定要清空所有收藏吗？此操作不可撤销。","清空收藏",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),y.clearBookmarks(),S.success("已清空所有收藏")}catch{}}return(a,e)=>{const n=_("el-option"),T=_("el-select"),w=_("el-button"),q=_("el-empty");return t(),r("div",Z,[l(D),s("div",z,[s("div",G,[s("div",H,[s("h2",null,d(u(i)("bookmarks.title")),1),s("div",J,[l(T,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=o=>m.value=o),placeholder:"筛选类型",onChange:x},{default:k(()=>[l(n,{label:"全部",value:""}),l(n,{label:"单词短语",value:"vocabulary"}),l(n,{label:"沟通语句",value:"communication"}),l(n,{label:"面试内容",value:"interview"})]),_:1},8,["modelValue"]),C.value?(t(),p(w,{key:0,icon:u(E),type:"danger",onClick:N},{default:k(()=>[...e[2]||(e[2]=[V(" 清空全部 ",-1)])]),_:1},8,["icon"])):v("",!0)])]),C.value?(t(),r("div",P,[c.value.vocabulary.length>0?(t(),r("div",W,[s("h3",null,d(u(i)("bookmarks.vocabulary")),1),s("div",X,[(t(!0),r(h,null,B(c.value.vocabulary,o=>(t(),p(L,{key:o.id,vocabulary:o.data,"is-bookmarked":!0,onBookmark:b},null,8,["vocabulary"]))),128))])])):v("",!0),c.value.communication.length>0?(t(),r("div",Y,[s("h3",null,d(u(i)("bookmarks.communication")),1),s("div",ee,[(t(!0),r(h,null,B(c.value.communication,o=>(t(),p(R,{key:o.id,scenario:o.data.scenario,object:o.data.object,phase:o.data.phase,"is-bookmarked":!0,onBookmark:b},null,8,["scenario","object","phase"]))),128))])])):v("",!0),c.value.interview.length>0?(t(),r("div",oe,[s("h3",null,d(u(i)("bookmarks.interview")),1),s("div",te,[(t(!0),r(h,null,B(c.value.interview,o=>(t(),p(U,{key:o.id,question:o.data.question,part:o.data.part,"part-name":o.data.partName,"is-bookmarked":!0,onBookmark:b},null,8,["question","part","part-name"]))),128))])])):v("",!0)])):(t(),r("div",O,[l(q,{description:u(i)("bookmarks.noBookmarks")},{default:k(()=>[l(w,{type:"primary",onClick:e[1]||(e[1]=o=>a.$router.push("/vocabulary"))},{default:k(()=>[...e[3]||(e[3]=[V(" 开始学习 ",-1)])]),_:1})]),_:1},8,["description"])]))])]),l(K)])}}}),ve=Q(ae,[["__scopeId","data-v-79b9aff0"]]);export{ve as default};
